
fund_inspiration_effect = {
	scope:recipient = {
		if = {
			limit = {
				NOT = { is_courtier_of = scope:actor }
			}
			if = {
				limit = {
					any_traveling_family_member = {
						can_any_traveling_family_members_travel_trigger = yes
					}
				}
				every_traveling_family_member = {
					custom = fund_inspiration_interaction_reqruit_family_tooltip
					limit = {
						can_any_traveling_family_members_travel_trigger = yes
					}
					scope:actor = {
						add_courtier = prev
					}
				}
			}
			scope:actor = {
				add_courtier = scope:recipient
			}
		}
		add_opinion = {
			target = scope:actor
			modifier = grateful_opinion
			opinion = 40
		}
	}
	scope:actor = {
		sponsor_inspiration = scope:recipient.inspiration
	}
	if = {
		limit = {
			scope:actor = {
				is_ai = no
			}
			NOT = {
				exists = global_var:ep1_07_achievement_inspiration_count_tracker
			}
		}
		set_global_variable = {
			name = ep1_07_achievement_inspiration_count_tracker
			value = 1
		}
	}
	else_if = {
		limit = {
			scope:actor = {
				is_ai = no
			}
			exists = global_var:ep1_07_achievement_inspiration_count_tracker
		}
		change_global_variable = {
			name = ep1_07_achievement_inspiration_count_tracker
			add = 1
		}
	}
}

grant_inspiration_reward_effect = {
	add_gold = {
		value = root.inspiration_gold_invested
		multiply = 0.25
	}
	add_prestige_level = 1
	add_prestige = {
		value = root.inspiration_gold_invested
		multiply = 0.75
	}
}

set_alchemy_inspiration_type_effect = {
	save_temporary_scope_value_as = {
		name = allow_no_type_option
		value = $NO_TYPE$
	}
	hidden_effect = {
		$BASE_SCOPE$ = {
			#The type has been decided in events, when the character got inspired, or now. Let's save it! (might still leave it up to the sponsor if allow_no_type_option = yes!)
			if = {
				limit = {
					NOT = { exists = var:artifact_alchemy_type }
				}
				random_list = { #What do they want to do?
					5 = { #Elixirs
						modifier = {
							add = 5
							has_trait = arrogant
						}
						set_variable = {
							name = artifact_alchemy_type
							value = flag:alchemy_type_elixirs
						}
					}
					10 = { #Metals
						set_variable = {
							name = artifact_alchemy_type
							value = flag:alchemy_type_metals
						}
					}
					10 = { #Panacea: a cure-all for all disease
						modifier = {
							add = 10
							has_trait = lifestyle_physician
						}
						set_variable = {
							name = artifact_alchemy_type
							value = flag:alchemy_type_panacea
						}
					}
					5 = { #Immortality
						modifier = {
							add = 5
							has_trait = arrogant
						}
						set_variable = {
							name = artifact_alchemy_type
							value = flag:alchemy_type_immortality
						}
					}
					50 = { #They don't care and you can decide!
						trigger = {
							scope:allow_no_type_option = yes
						}
						modifier = {
							add = 30
							has_personality_submissive_trigger = yes
						}
						ai_value_modifier = {
							ai_boldness = -0.25
							ai_energy = -0.25
						}
					}
				}
			}
		}
	}
}


################
# Adventurer Inspiration effects
################
# The Adventurer Inspiration is a bit special since it can result in many different types of artifacts, so we handle the generation here

# Where is the adventurer going?
set_adventure_location_effect = {
	save_temporary_scope_value_as = {
		name = allow_no_destination_option
		value = $NO_DESTINATION$
	}
	hidden_effect = { #If they haven't specified where they're going we decide it here (might still leave it up to the sponsor if allow_no_destination_option = yes!)
		$BASE_SCOPE$ = {
			if = {
				limit = {
					NOT = { exists = var:adventure_destination }
				}
				random_list = {
					10 = {
						# Africa
						trigger = {
							trigger_if = {
								limit = { exists = location }
								location = {
									NOT = { geographical_region = world_nahasa }
								}
								adventurer_potential_destination_distance_check = {
									REGION = world_nahasa
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:africa
						}
					}
					10 = {
						# West Africa
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = region_west_nahasa
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:africa_west
						}
					}
					10 = {
						# North Africa
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = region_north_nahasa_coast
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:africa_north
						}
					}
					10 = {
						# East Africa
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = region_east_nahasa
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:africa_east
						}
					}
					10 = {
						# Europe
						trigger = {
							trigger_if = {
								limit = { exists = location }
								location = {
									NOT = { geographical_region = world_calradia }
								}
								adventurer_potential_destination_distance_check = {
									REGION = world_calradia
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:europe
						}
					}
					5 = {
						# North Europe
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = region_longships
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:europe_north
						}
					}
					10 = {
						# South Europe
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = world_calradia_south
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:europe_south
						}
					}
					10 = {
						# West Europe
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = region_vlandia
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:europe_west
						}
					}
					10 = {
						# East Europe
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = world_calradia_east
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:europe_east
						}
					}
					10 = {
						# Middle East
						trigger = {
							trigger_if = {
								limit = { exists = location }
								location = {
									NOT = { geographical_region = region_east_nahasa }
								}
								adventurer_potential_destination_distance_check = {
									REGION = region_east_nahasa
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:middle_east
						}
					}
					10 = {
						# Middle East - Persia
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = region_darshi_west
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:middle_east_persia
						}
					}
					10 = {
						# India
						trigger = {
							trigger_if = {
								limit = { exists = location }
								location = {
									NOT = { geographical_region = world_india }
								}
								adventurer_potential_destination_distance_check = {
									REGION = world_india
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:india
						}
					}
					5 = {
						# The Steppe
						trigger = {
							trigger_if = {
								limit = { exists = location }
								location = {
									NOT = { geographical_region = world_steppe }
								}
								adventurer_potential_destination_distance_check = {
									REGION = world_steppe
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:steppe
						}
					}
					5 = {
						# The Steppe - West
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = world_steppe_west
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:steppe_west
						}
					}
					5 = {
						# The Steppe - East
						trigger = {
							trigger_if = {
								limit = { exists = location }
								adventurer_potential_destination_distance_check = {
									REGION = world_steppe_east
								}
							}
						}
						set_variable = {
							name = adventure_destination
							value = flag:steppe_east
						}
					}
					85 = { #Very skillde adventurers are often going to let you decide!
						trigger = {
							scope:allow_no_destination_option = yes
						}
						modifier = {
							add = 40
							has_personality_submissive_trigger = yes
						}
						ai_value_modifier = {
							ai_boldness = -0.25
							ai_energy = -0.25
						}
					}
				}
			}
		}
	}
}

get_adventure_inspiration_start_location = {
	$ADVENTURER$ = { save_scope_as = adventurer }
	scope:adventurer = {
		if = {
			limit = { exists = var:adventure_destination }
			switch = {
				trigger = var:adventure_destination
				flag:africa = { # Africa
					random_county_in_region = {
						region = world_nahasa
						title_province = { save_scope_as = location }
					}
				}
				flag:africa_west = { # West Africa
					random_county_in_region = {
						region = region_west_nahasa
						title_province = { save_scope_as = location }
					}
				}
				flag:africa_north = { # North Africa
					random_county_in_region = {
						region = region_north_nahasa_coast
						title_province = { save_scope_as = location }
					}
				}
				flag:africa_east = { # East Africa
					random_county_in_region = {
						region = region_east_nahasa
						title_province = { save_scope_as = location }
					}
				}
				flag:europe = { # Europe
					random_county_in_region = {
						region = world_calradia
						title_province = { save_scope_as = location }
					}
				}
				flag:europe_north = { # North Europe
					random_county_in_region = {
						region = region_longships
						title_province = { save_scope_as = location }
					}
				}
				flag:europe_south = { # South Europe
					random_county_in_region = {
						region = world_calradia_south
						title_province = { save_scope_as = location }
					}
				}
				flag:europe_west = { # West Europe
					random_county_in_region = {
						region = region_vlandia
						title_province = { save_scope_as = location }
					}
				}
				flag:europe_east = { # East Europe
					random_county_in_region = {
						region = world_calradia_east
						title_province = { save_scope_as = location }
					}
				}
				flag:middle_east = { # Middle East
					random_county_in_region = {
						region = region_east_nahasa
						title_province = { save_scope_as = location }
					}
				}
				flag:middle_east_persia = { # Middle East - Persia
					random_county_in_region = {
						region = region_darshi_west
						title_province = { save_scope_as = location }
					}
				}
				flag:india = { # India
					random_county_in_region = {
						region = world_india
						title_province = { save_scope_as = location }
					}
				}
				flag:steppe = { # The Steppe
					random_county_in_region = {
						region = world_steppe
						title_province = { save_scope_as = location }
					}
				}
				flag:steppe_west = { # The Steppe - West
					random_county_in_region = {
						region = world_steppe_west
						title_province = { save_scope_as = location }
					}
				}
				flag:steppe_east = { # The Steppe - East
					random_county_in_region = {
						region = world_steppe_east
						title_province = { save_scope_as = location }
					}
				}
				flag:steppe_tarim = { # The Steppe - Tarim
					random_county_in_region = {
						region = world_steppe_tarim
						title_province = { save_scope_as = location }
					}
				}
				flag:asia_minor = { # Asia - Minor
					random_county_in_region = {
						region = region_calradia_southeast
						title_province = { save_scope_as = location }
					}
				}
				flag:burma = { # Burma
					random_county_in_region = {
						region = world_burma
						title_province = { save_scope_as = location }
					}
				}
				flag:tibet = { # Tibet
					random_county_in_region = {
						region = world_tibet
						title_province = { save_scope_as = location }
					}
				}
			}
		}
	}
}

inspiration_adventure_create_artifact_effect = {
	$OWNER$ = { save_scope_as = owner } #Will always exist!
	$CREATOR$ = { save_scope_as = adventurer } #Will always exist in an adventure inspiration!

	#If you've somehow managed to not set a destination by now we generate one here
	if = {
		limit = {
			NOT = { exists = scope:adventurer.var:adventure_destination }
		}
		set_adventure_location_effect = {
			BASE_SCOPE = scope:adventurer
			NO_DESTINATION = no
		}
		get_adventure_inspiration_start_location = { ADVENTURER = scope:adventurer }
	}
	else = {
		#To save the location and make sure materials can access it
		scope:adventurer.location = { save_scope_as = location } # To save the location scope based on the destination
	}

	#Creating the artifact based on the previous choice and outcome
	scope:adventurer = {
		hidden_effect = {
			if = {
				limit = { exists = scope:location }
				scope:location = { add_to_list = artifact_material_sources } #Used for artifact creation
			}
			create_character = {
				location = root.location
				template = local_artisan_template
				culture = scope:location.culture
				faith = scope:location.faith
				gender = scope:adventurer
				dynasty = none
				save_scope_as = artifact_origin #Fictional maker of artifact
			}

			random_list = {
				25 = {
					trigger = { #Epic Artifact
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:epic_quest
								var:adventure_type = flag:free_reign
							}
						}
					}
					modifier = {
						scope:adventurer.adventure_inspiration_average_skill_value <= low_inspiration_skill
						add = -10
					}
					modifier = {
						scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
						add = 25
					}
					root = {
						random_list = {
							10 = { #Chance of Relic
								modifier = {
									scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
									add = -5 #More likely to find something better.
								}
								modifier = {
									scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
									add = -4 #High inspiration skill adventurers will only find relics if there is nothing else to find.
								}
								random_list = { #This is a list inside an item in the other list because we need _one_ chance for relic and the relic types must be able to have overlapping triggers.
									100 = {	#Christian
										trigger = {
											scope:location ?= {
												OR = {
													faith.religion = religion:calradian_religion
													geographical_region = world_calradia
												}
											}
										}
										modifier = {
											NOT = { scope:location.religion = religion:calradian_religion }
											add = -75
										}
										create_artifact_pedestal_christian_relic_effect_hist = {
											OWNER = root
										}
									}
									100 = { #Zoroastrian
										trigger = {
											scope:location ?= {
												OR = {
													religion = religion:darshi_religion
													geographical_region = region_darshi_west
												}
											}
										}
										modifier = {
											NOT = { scope:location.religion = religion:darshi_religion }
											add = -75
										}
										random_list = {
											50 = {
												create_artifact_pedestal_branch_relic_zoroastr_effect = {
													OWNER = root
												}
											}
											50 = {
												create_artifact_afarganyu_effect = {
													OWNER = root
												}
											}
										}
									}
									100 = { #Germanic
										trigger = {
											scope:location ?= {
												OR = {
													religion = religion:jumne_religion
													geographical_region = region_longships
												}
											}
										}
										modifier = {
											NOT = { scope:location.religion = religion:jumne_religion }
											add = -75
										}
										create_artifact_pedestal_branch_relic_germanic_effect = {
											OWNER = root
										}
									}
									100 = { #Slavic
										trigger = {
											scope:location ?= {
												OR = {
													religion = religion:northern_gods_religion
													geographical_region = region_longships
												}
											}
										}
										modifier = {
											NOT = { scope:location.religion = religion:northern_gods_religion }
											add = -75
										}
										create_artifact_pedestal_branch_relic_slavic_effect = {
											OWNER = root
										}
									}
									100 = { #Hinduism
										trigger = {
											scope:location ?= {
												OR = {
													religion = religion:ghavati_religion
													geographical_region = world_india
													geographical_region = world_himalaya
												}
											}
										}
										modifier = {
											NOT = { scope:location.religion = religion:ghavati_religion }
											add = -75
										}
										random_list = {
											10 = {
												trigger = {
													any_artifact = {
														count < 8
														has_variable = aruval
													}
													scope:location ?= {
														OR = {
															geographical_region = world_india
															geographical_region = world_tibet
															religion = religion:ghavati_religion
														}
													}
												}
												create_artifact_aruval_effect = { OWNER = root }
											}
											10 = {
												trigger = {
													any_artifact = {
														count < 12
														has_variable = conch
													}
													scope:location ?= {
														OR = {
															geographical_region = world_india
															geographical_region = world_tibet
															religion = religion:ghavati_religion
														}
													}
												}
												create_artifact_pedestal_shankha_conch_effect = { OWNER = root }
											}
											10 = { #Ancient Khanda
												trigger = {
													any_artifact = {
														count < 8
														has_variable = khanda
													}
													scope:location ?= {
														OR = {
															geographical_region = world_india
															geographical_region = world_tibet
															religion = religion:ghavati_religion
														}
													}
												}
												create_artifact_khanda_effect = { OWNER = root }
											}
											10 = { #Cintamani stone
												trigger = {
													any_artifact = {
														count < 3
														has_variable = cintamani_hindu
													}
													scope:location ?= {
														OR = {
															geographical_region = world_india
															geographical_region = world_tibet
															religion = religion:ghavati_religion
														}
													}
												}
												create_artifact_cintamani_hindu_effect = { OWNER = root }
											}
											25 = {
												create_artifact_pedestal_branch_relic_hinduism_effect = { OWNER = root }
											}
										}
									}
									100 = { #Finno-Ugric
										trigger = {
											scope:location ?= {
												OR = {
													religion = religion:vakken_religion
													geographical_region = region_longships
												}
											}
										}
										modifier = {
											NOT = { scope:location.religion = religion:vakken_religion }
											add = -75
										}
										random_list = {
											90 = {
												create_artifact_sledovik_effect = {
													OWNER = root
												}
											}
											10 = {
												trigger = {
													any_artifact = {
														count < 3
														has_variable = kantele
													}
												}
												create_artifact_kantele_effect = {
													OWNER = root
												}
											}
										}
									}
									1 = { #Fallback Relic
										create_artifact_pedestal_branch_relic_general_effect = {
											OWNER = root
											RELIGION = scope:location.religion
										}
									}
								}
							}
							2 = { #Babr E Bayan
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									NOT = {
										any_artifact = {
											has_variable = babr_e_bayan
										}
									}
									scope:location ?= {
										OR = {
											geographical_region = region_darshi_west
											#geographical_region = world_steppe
											culture = { has_cultural_pillar = heritage_darshi }
										}
									}
								}
								create_artifact_sculpture_babr_e_bayan_effect = { OWNER = root }
							}
							10 = {
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									NOT = {
										any_artifact = {
											has_variable = crown_of_justinian
										}
									}
									scope:location ?= {
										OR = {
											geographical_region = region_imperial_calradia
											culture = { has_cultural_pillar = heritage_calradian }
										}
									}
								}
								create_artifact_pedestal_justinian_effect = { OWNER = root }
							}
							10 = { #Cup of Jamshid
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									NOT = {
										any_artifact = {
											has_variable = cup_jamshid
										}
									}
									scope:location ?= {
										OR = {
											geographical_region = region_darshi_west
											#geographical_region = world_steppe
											culture = { has_cultural_pillar = heritage_darshi }
										}
									}
								}
								create_artifact_pedestal_cup_jamshid_effect = { OWNER = root }
							}
							# 10 = { #Recreate if lost
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		NOT = {
							# 			any_artifact = {
							# 				has_variable = iron_crown
							# 			}
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = custom_northern_italy
							# 				culture = { has_cultural_pillar = heritage_latin }
							# 			}
							# 		}
							# 	}
							# 	create_artifact_pedestal_crown_iron_effect = { OWNER = root }
							#}
							10 = {
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									NOT = {
										any_artifact = {
											has_variable = banner_kaviani
										}
									}
									scope:location ?= {
										OR = {
											geographical_region = region_darshi_west
											#geographical_region = world_steppe
											culture = { has_cultural_pillar = heritage_darshi }
										}
									}
								}
								create_artifact_wall_banner_kaviani_effect = { OWNER = root }
							}
							10 = {
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									NOT = {
										any_artifact = {
											has_variable = banner_edessa
										}
									}
									scope:location ?= {
										OR = {
											geographical_region = region_east_nahasa
											geographical_region = region_perassic
										}
									}
								}
								create_artifact_wall_banner_edessa_effect = { OWNER = root }
							}
							10 = {
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									NOT = {
										any_artifact = {
											has_variable = throne_scone
										}
									}
									scope:location ?= {
										geographical_region = region_battania
									}
								}
								create_artifact_throne_scone_effect = { OWNER = root }
							}
							# 10 = { #Recreate if lost
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		NOT = {
							# 			any_artifact = {
							# 				has_variable = charlamagne_throne
							# 			}
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = custom_carolingian_francia
							# 				geographical_region = custom_carolingian_germany
							# 				geographical_region = custom_lotharingia
							# 				geographical_region = custom_northern_italy
							# 			}
							# 		}
							# 	}
							# 	create_artifact_throne_charlemagne_effect = { OWNER = root }
							# }
							## No Excalibur
							## No Head of Edmund
							### \ NO INDIA / ###
							# 10 = { #Al Taj
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = al_taj
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_darshi_west
							# 				geographical_region = region_east_nahasa
							# 			}
							# 		}
							# 	}
							# 	create_artifact_al_taj_crown_effect = { OWNER = ROOT }
							# }
							# 10 = { #al-Sayf al-Khass
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = al_sayf_al_khass
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_darshi_west
							# 				geographical_region = region_east_nahasa
							# 			}
							# 		}
							# 	}
							# 	create_artifact_al_sayf_al_khass_effect = { OWNER = ROOT }
							# }
							# ## No Fatimid Dynasty
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							# 10 = { #Al Dawat
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = al_dawat
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_darshi_west
							# 				geographical_region = region_east_nahasa
							# 			}
							# 		}
							# 	}
							# 	create_artifact_al_dawat_effect = { OWNER = ROOT }
							# }
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							# 10 = { #Al Hafir
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = al_hafir
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_east_nahasa
							# 				geographical_region = region_darshi_west
							# 			}
							# 		}
							# 	}
							# 	create_artifact_al_hafir_effect = { OWNER = ROOT }
							# }
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							# # 2 = { #Banner of thankfulness
							# # 	modifier = {
							# # 		OR = {
							# # 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# # 			AND = {
							# # 				exists = scope:inspiration_owner.var:artifact_quality
							# # 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# # 			}
							# # 		}
							# # 		add = 5
							# # 	}
							# # 	trigger = {
							# # 		any_artifact = {
							# # 			count < 2
							# # 			has_variable = banner_thankfulness
							# # 		}
							# # 		scope:location ?= {
							# # 			OR = {
							# # 				geographical_region = region_darshi_west
							# # 				geographical_region = region_east_nahasa
							# # 			}
							# # 		}
							# # 	}
							# # 	create_artifact_wall_banner_thankfulness_effect = { OWNER = ROOT }
							# # }
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							# 5 = { #Al Jabal
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = al_jabal
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_east_nahasa
							# 				geographical_region = region_darshi_west
							# 			}
							# 		}
							# 	}
							# 	create_artifact_pedestal_al_jabal_effect = { OWNER = ROOT }
							# }
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							# 5 = { #Al Yatima
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = al_yatima
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_darshi_west
							# 				geographical_region = region_east_nahasa
							# 			}
							# 		}
							# 	}
							# 	create_artifact_pedestal_al_yatima_effect = { OWNER = ROOT }
							# }
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							10 = { #Dagger of Rostam
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									any_artifact = {
										count < 1
										has_variable = dagger_of_rostam
									}
									scope:location ?= {
										OR = {
											# geographical_region = region_calradia_southeast
											geographical_region = region_east_nahasa
											geographical_region = region_darshi_west
										}
									}
								}
								create_artifact_dagger_of_rostam_effect = { OWNER = ROOT }
							}
							# ## No St. George
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							10 = { #Shamshir-e Zomorrodnegar
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									any_artifact = {
										count < 1
										has_variable = zomorrodnegar
									}
									scope:location ?= {
										OR = {
											geographical_region = region_east_nahasa
											geographical_region = region_darshi_west
										}
									}
								}
								create_artifact_zomorrodnegar_effect = { OWNER = ROOT }
							}
							# # No Muhammad
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							# 10 = { #Kave's Apron
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = kaves_apron
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_calradia_southeast
							# 				geographical_region = region_east_nahasa
							# 				geographical_region = region_darshi_west
							# 			}
							# 		}
							# 	}
							# 	create_artifact_kaves_apron_effect = { OWNER = ROOT }
							# }
							# ## CK_LOCALIZATION CK_UPDATE - Update the loc. desc of this
							2 = { #Armor of Alixenus the Great
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									any_artifact = {
										count < 1
										has_variable = arms_of_alex
									}
									scope:location ?= {
										OR = {
											geographical_region = region_east_nahasa
											geographical_region = region_darshi_west
										}
									}
								}
								create_artifact_arms_of_alexander_effect = { OWNER = ROOT }
							}
							## No Southern Europe / No Roland
							### A list of Africa, Germanic, West/Southern European artifacts were erased here. Let's repopulate it with fresh new, lore-accurate artifacts. CK_UPDATE
							# 2 = { #Chinese Caligraphy
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 15
							# 			has_variable = chinese_caligraphy
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = world_burma
							# 				geographical_region = world_tibet
							# 			}
							# 		}
							# 	}
							# 	create_artifact_chinese_caligraphy_effect = { OWNER = ROOT }
							# }
							5 = { #Peacock Throne
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									any_artifact = {
										count < 1
										has_variable = peacock_throne
									}
									scope:location ?= {
										geographical_region = region_darshi_west
									}
								}
								create_artifact_peacock_throne_effect = { OWNER = ROOT }
							}
							# 5 = { #Mantle of the Prophet
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = mantle_of_prophet
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = world_nahasa
							# 				geographical_region = region_darshi_west
							# 			}
							# 		}
							# 	}
							# 	create_artifact_mantle_of_the_prophet_effect = { OWNER = ROOT }
							# }
							# 5 = { #Spear of the Prophet
							# 	modifier = {
							# 		OR = {
							# 			scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							# 			AND = {
							# 				exists = scope:inspiration_owner.var:artifact_quality
							# 				scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							# 			}
							# 		}
							# 		add = 5
							# 	}
							# 	trigger = {
							# 		any_artifact = {
							# 			count < 1
							# 			has_variable = spear_of_the_prophet
							# 		}
							# 		scope:location ?= {
							# 			OR = {
							# 				geographical_region = region_east_nahasa
							# 				geographical_region = region_darshi_west
							# 			}
							# 		}
							# 	}
							# 	create_artifact_spear_of_the_prophet_effect = { OWNER = ROOT }
							# }
							10 = { #FP3 Sassanian Sword
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									any_artifact = {
										count < 15
										has_variable = sassanian_sword
									}
									scope:location ?= {
										OR = {
											geographical_region = region_east_nahasa
											geographical_region = region_darshi_west
										}
									}
								}
								create_artifact_illustrious_sassanian_sword_effect = { OWNER = ROOT }
							}
							2 = { #
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = { #Narwhal Horn
									scope:location ?= {
										geographical_region = region_longships
									}
								}
								create_artifact_wall_narwhal_horn_effect = {
									OWNER = scope:owner
									HUNTER = scope:inspiration_owner
								}
							}
							10 = { #Constantine statue
								modifier = {
									OR = {
										scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
										AND = {
											exists = scope:inspiration_owner.var:artifact_quality
											scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
										}
									}
									add = 5
								}
								trigger = {
									any_artifact = {
										count < 3
										has_variable = statue_constantine
									}
									scope:location ?= {
										OR = {
											geographical_region = world_europe_south_italy #Rome
											geographical_region = region_calradia_southeast #Constantinople
										}
									}
								}
								create_artifact_statue_constantine_effect = { OWNER = root }
							}
						}
					}
				}

				10 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -5
					}
					trigger = { #A Weapon
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:epic_quest
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_weapon_effect = {
							OWNER = scope:artifact_origin
							CREATOR = scope:artifact_origin
							SET_WEAPON_TYPE = flag:no
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = weapon_artifact
						value = yes
					}
				}

				5 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -2
					}
					trigger = { #An armor
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:epic_quest
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_armor_effect = {
							OWNER = scope:artifact_origin
							CREATOR = scope:artifact_origin
							SET_ARMOR_TYPE = flag:no
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = armor_artifact
						value = yes
					}
				}
				5 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -2
					}
					trigger = { # Necklace
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:trinket
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_necklace_effect = {
							OWNER = scope:artifact_origin
							SMITH = scope:artifact_origin
						}
					}
					scope:newly_created_artifact = { save_scope_as = necklace }
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = necklace_artifact
						value = yes
					}
				}

				5 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -2
					}
					trigger = {
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:trinket
								var:adventure_type = flag:free_reign
								var:adventure_type = flag:epic_quest
							}
						}
					}
					scope:owner = {
						create_artifact_regalia_effect = {
							OWNER = scope:artifact_origin
							SMITH = scope:artifact_origin
						}
					}
					scope:owner = {
						save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
							name = regalia_artifact
							value = yes
						}
					}
				}

				10 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -5
					}
					trigger = { #Skull
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:skull_or_hide
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_wall_skull_effect = {
							OWNER = scope:owner
							HUNTER = scope:adventurer
							LEGENDARY = no
							ANIMAL = flag:none
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = skull
						value = yes
					}
				}
				30 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -5
					}
					trigger = { #Hide - big
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:skull_or_hide
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_animal_hide_effect = {
							OWNER = scope:owner
							HUNTER = scope:adventurer
							LEGENDARY = no
							ANIMAL = flag:none
						}
					}
				}
				10 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= high_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > high_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -5
					}
					trigger = { #Trinket, box small
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:trinket
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_box_small_effect = {
							OWNER = scope:owner
							CARPENTER = scope:inspiration_owner
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = box
						value = yes
					}
				}
				10 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -5
					}
					trigger = { #Trinket, goblet
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:trinket
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_goblet_effect = {
							OWNER = scope:owner
							SMITH = scope:inspiration_owner
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = goblet
						value = yes
					}
				}
				10 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -2
					}
					trigger = { #Tapestry
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:tapestry_or_fabric
								var:adventure_type = flag:free_reign
							}
						}
					}
					scope:owner = {
						create_artifact_tapestry_effect = {
							OWNER = scope:owner
							WEAVER = scope:inspiration_owner
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = tapestry
						value = yes
					}
				}
				10 = {
					modifier = {
						OR = {
							scope:adventurer.adventure_inspiration_average_skill_value >= medium_inspiration_skill
							AND = {
								exists = scope:inspiration_owner.var:artifact_quality
								scope:inspiration_owner.var:artifact_quality > medium_adventurer_epic_quality_level #Cumulative event choices
							}
						}
						add = -2
					}
					trigger = { #Persian Drinking Vessel (goblet)
						has_fp3_dlc_trigger = yes
						trigger_if = {
							limit = { exists = var:adventure_type }
							OR = {
								var:adventure_type = flag:trinket
								var:adventure_type = flag:free_reign
							}
						}
						scope:location = { geographical_region = region_darshi_west }
					}
					scope:owner = {
						create_artifact_persian_drinking_vessel_effect = {
							OWNER = scope:owner
							SMITH = scope:inspiration_owner
						}
					}
					save_scope_value_as = { #We save the type here for tooltips in fund_inspiration.1051
						name = goblet
						value = yes
					}
				}
				
			}
			if = {
				limit = {
					exists = scope:epic
					NOT = { exists = scope:task_contract_taker }
				}
				scope:epic = {
					add_artifact_history = {
						location = root.capital_province
						actor = scope:adventurer
						recipient = root
						type = given
					}
				}
			}
			else_if = {
				limit = {
					exists = scope:newly_created_artifact
					NOT = { exists = scope:task_contract_taker }
				}
				scope:newly_created_artifact = {
					add_artifact_history = {
						location = root.capital_province
						actor = scope:adventurer
						recipient = root
						type = given
					}
				}
			}
		}
	}
}
