ck_resource_1_effect = {
	if = {
		limit = {
			has_character_flag = trading_simple_mortar_modifier
		}
		capital_county = {
			add_county_modifier = {
				modifier = trading_simple_mortar_modifier
			}
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_simple_marble_modifier
		}
		capital_county = {
			add_county_modifier = {
				modifier = trading_simple_marble_modifier
			}
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_lumber_resource_modifier
		}
		capital_county = {
			add_county_modifier = {
				modifier = trading_lumber_resource_modifier
			}
		}
		add_character_modifier = {
			modifier = trading_lumber_resource_modifier_character
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_iron_tools_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_lumber_resource_modifier_character
		}
	}
}
# Martial
ck_resource_2_effect = {
	if = {
		limit = {
			has_character_flag = trading_iron_ingots_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_iron_ingots_resource_modifier_character
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_leather_lamellar_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_leather_lamellar_resource_modifier_character
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_oil_resource_modifier
		}
		capital_province = {
			add_province_modifier = {
				modifier = trading_oil_resource_modifier_province
			}
		}
		capital_county = {
			add_county_modifier = {
				modifier = trading_oil_resource_modifier
			}
		}
		add_character_modifier = {
			modifier = trading_oil_resource_modifier_character
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_bodkin_arrows_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_bodkin_arrows_resource_modifier
		}
	}
}
ck_resource_3_effect = {
	if = {
		limit = {
			has_character_flag = trading_fragrant_wine_resource_modifier
		}
		create_artifact = {
			name = wine_3_name
			description = wine_3_desc
			type = miscellaneous
			visuals = ck_wine
			quality = 35
			wealth = 35
			modifier = artifact_wine_modifier_3
			decaying = no
			history = {
				type = created_before_history
			}
			save_scope_as = bought_wine
		}
		send_interface_toast = {
			type = msg_artifact_gained
			title = wine_3_bought_title
			right_icon = scope:bought_wine
			custom_tooltip = wine_3_bought_tooltip
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_ivory_ornaments_resource_modifier
		}
		create_artifact = {
			name = geroian_events_0021_ivory
			description = geroian_events_0021_ivory.desc
			type = miscellaneous
			visuals = pocket_tusk
			modifier = trading_ivory_ornaments_resource_modifier
			save_scope_as = new_trinket
			wealth = 45
			quality = 45
			max_durability = 60
			generate_history = no
		}
		send_interface_toast = {
			type = msg_artifact_gained
			title = geroian_events_0021_ivory_bought
			right_icon = scope:new_trinket
			custom_tooltip = ck_ivory_bought_tooltip
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_linen_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_linen_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_decanter_vessels_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_decanter_vessels_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_mother_pearls_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_mother_pearls_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_exotic_perfumes_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_exotic_perfumes_resource_modifier
		}
	}
}
ck_resource_4_effect = {
	if = {
		limit = {
			has_character_flag = trading_indigo_dye_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_indigo_dye_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_battanian_woad_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_battanian_woad_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_makhanian_incense_stones_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_makhanian_incense_stones_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_calradoi_dye_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_calradoi_dye_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_thamaskene_resource_modifier
		}
		capital_province = {
			add_province_modifier = {
				modifier = trading_thamaskene_resource_modifier
			}
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_sturgian_pitch_resource_modifier
		}
		capital_county = {
			add_county_modifier = {
				modifier = trading_sturgian_pitch_resource_modifier
			}
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_imperial_palmatian_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_imperial_palmatian_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_calradoi_silk_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_calradoi_silk_resource_modifier
		}
	}
	# Food
	else_if = {
		limit = {
			has_character_flag = trading_danari_salt_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_danari_salt_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_sturgic_mead_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_sturgic_mead_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_calradoi_wine_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_calradoi_wine_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_vlandian_cheese_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_vlandian_cheese_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_nahasa_dates_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_nahasa_dates_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_battanian_barley_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_battanian_barley_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_imperial_grapes_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_imperial_grapes_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_vlandian_butter_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_vlandian_butter_resource_modifier
		}
	}
	else_if = {
		limit = {
			has_character_flag = trading_swadian_butter_resource_modifier
		}
		add_character_modifier = {
			modifier = trading_swadian_butter_resource_modifier
		}
	}
}

remove_all_character_flags_0021 = {
	if = {
		limit = {
			OR = {
				has_character_flag = trading_simple_mortar_modifier
				has_character_flag = trading_simple_marble_modifier
				has_character_flag = trading_lumber_resource_modifier
				has_character_flag = trading_iron_tools_resource_modifier
				has_character_flag = trading_iron_ingots_resource_modifier
				has_character_flag = trading_leather_lamellar_resource_modifier
				has_character_flag = trading_oil_resource_modifier
				has_character_flag = trading_bodkin_arrows_resource_modifier
				has_character_flag = trading_linen_resource_modifier
				has_character_flag = trading_decanter_vessels_resource_modifier
				has_character_flag = trading_mother_pearls_resource_modifier
				has_character_flag = trading_exotic_perfumes_resource_modifier
				has_character_flag = trading_fragrant_wine_resource_modifier
				has_character_flag = trading_ivory_ornaments_resource_modifier
				has_character_flag = trading_indigo_dye_resource_modifier
				has_character_flag = trading_battanian_woad_resource_modifier
				has_character_flag = trading_makhanian_incense_stones_resource_modifier
				has_character_flag = trading_calradoi_dye_resource_modifier
				has_character_flag = trading_thamaskene_resource_modifier
				has_character_flag = trading_sturgian_pitch_resource_modifier
				has_character_flag = trading_imperial_palmatian_resource_modifier
				has_character_flag = trading_calradoi_silk_resource_modifier
				has_character_flag = trading_danari_salt_resource_modifier
				has_character_flag = trading_sturgic_mead_resource_modifier
				has_character_flag = trading_calradoi_wine_resource_modifier
				has_character_flag = trading_vlandian_cheese_resource_modifier
				has_character_flag = trading_nahasa_dates_resource_modifier
				has_character_flag = trading_battanian_barley_resource_modifier
				has_character_flag = trading_imperial_grapes_resource_modifier
				has_character_flag = trading_vlandian_butter_resource_modifier
				has_character_flag = trading_swadian_butter_resource_modifier
			}
		}
		remove_character_flag = trading_simple_mortar_modifier
		remove_character_flag = trading_simple_marble_modifier
		remove_character_flag = trading_lumber_resource_modifier
		remove_character_flag = trading_iron_tools_resource_modifier
		remove_character_flag = trading_iron_ingots_resource_modifier
		remove_character_flag = trading_leather_lamellar_resource_modifier
		remove_character_flag = trading_oil_resource_modifier
		remove_character_flag = trading_bodkin_arrows_resource_modifier
		remove_character_flag = trading_linen_resource_modifier
		remove_character_flag = trading_decanter_vessels_resource_modifier
		remove_character_flag = trading_mother_pearls_resource_modifier
		remove_character_flag = trading_exotic_perfumes_resource_modifier
		remove_character_flag = trading_fragrant_wine_resource_modifier
		remove_character_flag = trading_ivory_ornaments_resource_modifier
		remove_character_flag = trading_indigo_dye_resource_modifier
		remove_character_flag = trading_battanian_woad_resource_modifier
		remove_character_flag = trading_makhanian_incense_stones_resource_modifier
		remove_character_flag = trading_calradoi_dye_resource_modifier
		remove_character_flag = trading_thamaskene_resource_modifier
		remove_character_flag = trading_sturgian_pitch_resource_modifier
		remove_character_flag = trading_imperial_palmatian_resource_modifier
		remove_character_flag = trading_calradoi_silk_resource_modifier
		remove_character_flag = trading_danari_salt_resource_modifier
		remove_character_flag = trading_sturgic_mead_resource_modifier
		remove_character_flag = trading_calradoi_wine_resource_modifier
		remove_character_flag = trading_vlandian_cheese_resource_modifier
		remove_character_flag = trading_nahasa_dates_resource_modifier
		remove_character_flag = trading_battanian_barley_resource_modifier
		remove_character_flag = trading_imperial_grapes_resource_modifier
		remove_character_flag = trading_vlandian_butter_resource_modifier
		remove_character_flag = trading_swadian_butter_resource_modifier

	}
}