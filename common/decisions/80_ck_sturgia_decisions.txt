##########################################
### Form Sturgian Low-Kingdoms
##########################################

form_vakken_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_vakken_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_vakken }
		}
		NOR = {
			exists = title:k_vakken.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_vakken_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_vakken
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0001

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_vakken_kingdom
			}
			set_global_variable = {
				name = flag_formed_vakken_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_byalia_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_byalia_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_byalia }
		}
		NOR = {
			exists = title:k_byalia.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_byalia_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_byalia
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0002

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_byalian_kingdom
			}
			set_global_variable = {
				name = flag_formed_byalian_kingdom
				value = root
			}
			title:k_hacardia = { #prevent bordergore
				set_de_jure_liege_title = title:e_sturgia
			}
			title:d_hacard = {
				set_de_jure_liege_title = title:k_hacardia
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_varcheg_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_varcheg_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_varcheg }
			exists = title:k_byalia.holder #bordergore prevention, this one should be super rare anyway(under gundarovings)
		}
		NOR = {
			exists = title:k_varcheg.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_varcheg_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_varcheg
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0003
		
		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_varcheg_kingdom
			}
			set_global_variable = {
				name = flag_formed_varcheg_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_dolinsk_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_dolinsk_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_dolinsk }
		}
		NOR = {
			exists = title:k_vaegir.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_dolinsk_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_dolinsk
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0004

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_dolinsk_kingdom
			}
			set_global_variable = {
				name = flag_formed_dolinsk_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_jumnor_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_jumnor_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_jumnor }
		}
		NOR = {
			exists = title:k_jumnor.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_jumnor_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_jumnor
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0005

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_jumnor_kingdom
			}
			set_global_variable = {
				name = flag_formed_jumnor_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_tyal_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_tyal_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_tyal }
		}
		NOR = {
			exists = title:k_tyal.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_tyal_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_tyal
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0006

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_tyal_kingdom
			}
			set_global_variable = {
				name = flag_formed_tyal_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_hacardia_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_hacardia_kingdom_decision_desc

	is_shown = {
		AND = {
			exists = capital_province
			capital_province = { geographical_region = region_hacardia }
		}
		NOR = {
			exists = title:k_tyal.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_hacardia_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
			has_global_variable = sturgia_collapse_var
		}
	}

	is_valid = {
		OR = {
			is_independent_ruler = yes
			top_liege = {
				highest_held_title_tier = tier_empire
			}
		}
		prestige_level >= high_prestige_level
		completely_controls_region = region_hacardia
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 200
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0007

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_hacardia_kingdom
			}
			set_global_variable = {
				name = flag_formed_hacardia_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
integrate_former_sturgian_kingdom_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = integrate_former_sturgian_kingdom_decision_desc

	is_shown = {
		ROOT = {
			has_title = title:e_grand_principality_of_sturgia
		}
		OR = {
			has_global_variable = sturgia_collapse_var
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_nord_kingdom
			}
		}
	}

	is_valid = {
		OR = {
			completely_controls_region = region_hacardia
			completely_controls_region = region_vakken
			completely_controls_region = region_varcheg
			completely_controls_region = region_tyal
			completely_controls_region = region_psc_minadoria
			completely_controls_region = region_jumnor
			completely_controls_region = region_dolinsk
			completely_controls_region = region_byalia
			AND = {
				has_global_variable = sturgia_collapse_druinova_var
				completely_controls_region = region_druinova
			}
		}
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 50
	}

	effect = { #Did not make a specific event to reduce workload
		if = {
			limit = {
				completely_controls_region = region_psc_minadoria
				NOT = {
					title:k_minadoria = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
				
			}
			title:k_minadoria = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_jumnor
				NOT = {
					title:k_jumnor = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_jumnor = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_dolinsk
				NOT = {
					title:k_vaegir = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_vaegir = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_varcheg
				NOT = {
					title:k_varcheg = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_varcheg = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_vakken
				NOT = {
					title:k_vakken = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_vakken = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_tyal
				NOT = {
					title:k_tyal = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_tyal = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_byalia
				NOT = {
					title:k_byalia = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_byalia = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
		else_if = {
			limit = {
				completely_controls_region = region_hacardia
				NOT = {
					title:k_hacardia = {
						target_is_de_jure_liege_or_above = title:e_grand_principality_of_sturgia
					}
				}
			}
			title:k_hacardia = {
				set_de_jure_liege_title = title:e_grand_principality_of_sturgia
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
form_nord_empire_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = form_nord_empire_decision_desc

	is_shown = {
		root.culture = { has_cultural_pillar = heritage_byalic }
		NOR = {
			exists = title:e_nords.holder
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_nord_kingdom
			}
			ROOT = {
				has_title = title:e_grand_principality_of_sturgia
			}
		}
	}

	is_valid = {
		completely_controls_region = region_varcheg
		completely_controls_region = region_byalia
		completely_controls_region = region_hacardia
		is_independent_ruler = yes
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 50
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0008

		hidden_effect = {
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_formed_nord_kingdom
			}
			set_global_variable = {
				name = flag_formed_nord_kingdom
				value = root
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
restore_petty_sturgia_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = restore_petty_sturgia_decision_desc

	is_shown = {
		root.culture = { has_cultural_pillar = heritage_sturgic }
		NOT = {
			exists = title:k_sturgia.holder
		}
		has_global_variable = sturgia_collapse_petty_sturgia_var
	}

	is_valid = {
		completely_controls_region = region_psc_sturgia
		is_independent_ruler = yes
		NOT = {
			highest_held_title_tier = tier_kingdom
		}
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 50
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0101
		hidden_effect = {
			remove_global_variable = sturgia_collapse_petty_sturgia_var
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}
restore_principality_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	ai_check_interval = 250
	desc = restore_principality_decision_desc

	is_shown = {
		root.culture = { has_cultural_pillar = heritage_sturgic }
		NOT = {
			exists = title:e_grand_principality_of_sturgia.holder
			has_global_variable = sturgia_collapse_petty_sturgia_var
		}
		has_global_variable = sturgia_collapse_var
	}

	is_valid = {
		completely_controls_region = region_psc_sturgia
		is_independent_ruler = yes
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_at_war = no
	}

	cost = {
		gold = 100
	}

	effect = {
		#gain_heroic_legend_seed_tooltip_effect = yes
		trigger_event = ck_sturgia_events.0102
		hidden_effect = {
			remove_global_variable = sturgia_collapse_petty_sturgia_var
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}